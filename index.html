<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Daily FarmFresh - Fresh groceries delivered in 10 minutes</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <header></header>

    <main class="container">
        
        <section class="hero-wrapper">
            <div class="hero-banner">
                <div class="hero-text">
                    <h1 class="hero-title">Order fresh items,<br>delivered in 8 mins</h1>
                    <p class="hero-subtitle">Get farm-fresh vegetables, fruits, and dairy delivered to your doorstep.</p>
                    <a href="#products-section" class="btn-hero">Shop Now</a>
                </div>
                <img src="https://images.unsplash.com/photo-1542838132-92c53300491e?auto=format&fit=crop&w=800&q=80" class="hero-img" alt="Grocery Banner">
            </div>
        </section>

        <section class="mb-12" style="margin-bottom: 3rem;">
            <div class="cat-grid-dense" id="category-container">
                </div>
        </section>

        <section id="products-section" style="margin-bottom: 4rem;">
            <div class="section-header">
                <h2 class="section-title">Dairy, Breads & Eggs</h2>
                <a href="category.html" class="section-link">see all</a>
            </div>
            <div class="cat-product-grid" id="featured-products">
                </div>
        </section>

    </main>

    <footer></footer>

    <nav class="bottom-nav lg:hidden">
        <a href="index.html" class="nav-item active">
            <span class="nav-icon">🏠</span>
            <span>Home</span>
        </a>
        <a href="category.html" class="nav-item">
            <span class="nav-icon">🔍</span>
            <span>Search</span>
        </a>
        <a href="cart.html" class="nav-item relative">
            <span class="nav-icon">🛒</span>
            <span>Cart</span>
            <span id="nav-badge" class="hidden" style="position: absolute; top: -5px; right: 20px; background: var(--primary); color: white; font-size: 0.6rem; padding: 1px 5px; border-radius: 10px;">0</span>
        </a>
        <a href="orders.html" class="nav-item">
            <span class="nav-icon">🛍️</span>
            <span>Orders</span>
        </a>
    </nav>

    <script type="module">
        import { categories, products } from './js/data.js';
        
        // 1. Render Categories
        const catContainer = document.getElementById('category-container');
        if (catContainer) {
            catContainer.innerHTML = categories.map(cat => `
                <a href="category.html?cat=${cat.id}" class="cat-item-dense">
                    <div class="cat-thumb-dense">
                        <img src="${cat.image}" alt="${cat.name}">
                    </div>
                    <span class="cat-name-dense">${cat.name.replace('&', '<br>&')}</span>
                </a>
            `).join('');
        }

        // 2. Render Featured Products (Limit to 6-8)
        const productContainer = document.getElementById('featured-products');
        if (productContainer) {
            // Pick a mix or specific category
            const featured = products.slice(0, 10); 
            
            productContainer.innerHTML = featured.map(prod => `
                <div class="product-card">
                    <div class="product-img-wrapper">
                        <img src="${prod.image}" alt="${prod.name}" class="product-img">
                        ${prod.isVeg ? '<div class="veg-icon"></div>' : ''}
                        ${prod.deliveryTime ? `<div class="badge-time"><span>⏱</span> ${prod.deliveryTime}</div>` : ''}
                    </div>
                    
                    <h3 class="product-title" title="${prod.name}">${prod.name}</h3>
                    <div class="product-weight">${prod.weight || prod.unit}</div>
                    
                    <div class="product-footer">
                        <div class="flex flex-col">
                            <span class="price-current">₹${prod.price}</span>
                            ${prod.mrp > prod.price ? `<span class="price-mrp">₹${prod.mrp}</span>` : ''}
                        </div>
                        <button class="btn-add-blinkit add-to-cart-btn" data-id="${prod.id}">ADD</button>
                    </div>
                </div>
            `).join('');
        }
    </script>
    <script type="module" src="js/main.js"></script>
</body>
</html>
